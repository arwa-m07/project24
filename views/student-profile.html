<!-- student-profile.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Profile</title>
</head>
<body>
    <h2>Academic Achievements:</h2>
    <ul id="academicList">
        <!-- Academic achievements will be dynamically inserted here -->
    </ul>

    <h2>Extracurricular Activities:</h2>
    <ul id="extracurricularList">
        <!-- Extracurricular activities will be dynamically inserted here -->
    </ul>

    <h2>Sports Achievements:</h2>
    <ul id="sportsList">
        <!-- Sports achievements will be dynamically inserted here -->
    </ul>

    <h2>Courses:</h2>
    <ul id="coursesList">
        <!-- Courses will be dynamically inserted here -->
    </ul>

    <a href="/dashboard">Go back to Dashboard</a>
</body>
</html>
<script>
// Function to delete a record (adjust as needed)
function deleteRecord(recordType, recordId) {
    // Perform deletion logic here, e.g., make an AJAX request to the server
    console.log(`Deleting ${recordType} with ID ${recordId}`);

    // Example AJAX request using the Fetch API
    fetch(`/delete-record?type=${recordType}&id=${recordId}`, {
        method: 'DELETE',
    })
    .then(response => response.json())
    .then(data => {
        console.log('Delete response:', data);
        // You can update the UI as needed, e.g., remove the deleted record from the list
    })
    .catch(error => console.error('Error deleting record:', error));
}

// Function to dynamically populate lists
function populateList(listId, results, recordType) {
    const listElement = document.getElementById(listId);

    results.forEach(result => {
        const listItem = document.createElement('li');
        listItem.innerHTML = `${result.NameOfAchievement || result.EventName || result.NameOfSport || result.CourseName} - ${result.AchievementDate || result.EventDate || result.StartDate} to ${result.EndDate || ''}`;

        const deleteButton = document.createElement('button');
        deleteButton.innerText = 'Delete';
        deleteButton.addEventListener('click', () => deleteRecord(recordType, result.Id)); // Replace 'Id' with the actual identifier for the record

        listItem.appendChild(deleteButton);
        listElement.appendChild(listItem);
    });
}

// Fetch data from the server
// Example using the Fetch API
fetch('/get-student-data')
    .then(response => response.json())
    .then(data => {
        const academicResults = data.academicResults || [];
        const extracurricularResults = data.extracurricularResults || [];
        const sportsResults = data.sportsResults || [];
        const coursesResults = data.coursesResults || [];

        // Call the function to populate each list
        populateList('academicList', academicResults, 'Academic Achievement');
        populateList('extracurricularList', extracurricularResults, 'Extracurricular Activity');
        populateList('sportsList', sportsResults, 'Sports Achievement');
        populateList('coursesList', coursesResults, 'Course');
    })
    .catch(error => console.error('Error fetching student data:', error));
</script>
